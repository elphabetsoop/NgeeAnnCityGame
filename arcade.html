<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <title>Arcade Mode | NgeeAnnCityGame</title>
     <link rel="icon" href="assets/player.png">
     <link rel="stylesheet" href="css/styles.css">
</head>
<body>
     <!-- Game Over Modal -->
     <div id="gameOverModal" class="custom-modal hidden">
          <div class="custom-modal-content">
               <h2>üèÅ Game Over</h2>
               <p>Your final score: <span id="finalScore">0</span></p>
               <p>Total turns taken: <span id="finalTurns">0</span></p>
               <div id="buildingStatsSummary" style="margin: 15px 0; text-align: left;"></div>
               <div class="modal-actions">
                    <button onclick="window.location.href='arcade.html'">üîÑ Play Again</button>
                    <button onclick="window.location.href='index.html'" class="btn-custom">üè† Main Menu</button>
               </div>
          </div>
     </div>

     <!-- Demolish Reminder Modal -->
     <div id="demolishModal" class="custom-modal">
          <div class="custom-modal-content">
               <p>üöß <strong>Demolish Mode is ON</strong></p>
               <p>Each demolished building will cost <strong>1 coin</strong>.</p>
               <button id="closeDemolishModal">OK</button>
          </div>
     </div>

     <!-- Exit Confirmation Modal -->
     <div id="exitModal" class="custom-modal">
          <div class="custom-modal-content">
               <p>‚ö†Ô∏è <strong>Are you sure you want to exit to the main menu?</strong></p>
               <p>Your progress will be lost unless saved.</p>
               <div class="modal-actions">
                    <button id="cancelExit">Cancel</button>
                    <button id="confirmExit">Exit</button>
               </div>
          </div>
     </div>

     <!-- Main Game Interface -->
     <button id="exitBtn" class="exit-button">Exit to Main Menu</button>
     <div class="main-wrapper">
          <h1>Ngee Ann City - Arcade Mode</h1>
          <p>Coins: <span id="coinCount">16</span></p>
          <div class="game-info">
               <p>Turn: <span id="turnCount">1</span></p>
               <p>Score: <span id="scoreDisplay">0</span></p>
               <button id="saveGameBtn" class="save-button">Save Game</button>
               <button id="demolishBtn" class="demolish-button">Demolish Mode: OFF</button>
          </div>
          <div class="canvas-container">
               <canvas id="gameCanvas" width="960" height="960"></canvas>
          </div>
          <h2>Choose a Building</h2>
          <div id="buildingChoices" class="choices"></div>
     </div>

     <script type="module" src="scripts/arcade.js"></script>

     <!-- Tutorial Button -->
     <button id="tutorialBtn">‚ùì Tutorial</button>

     <!-- Tutorial Modal -->
     <div id="tutorialModal">
          <div id="tutorialContentBox">
               <h2 id="tutorialTitle"></h2>
               <p id="tutorialText"></p>
               <div id="tutorialActions">
                    <button id="tutorialBackBtn">‚¨Ö Back</button>
                    <button id="tutorialNextBtn">Next ‚û°</button>
               </div>
          </div>
     </div>

     <script>
          window.addEventListener('DOMContentLoaded', () => {
          const urlParams = new URLSearchParams(window.location.search);
          if (urlParams.get('tutorial') === 'true') {
               // Use your arcade_tutorial.js's global showTutorial function
               if (typeof showTutorial === 'function') {
               showTutorial();
               } else {
               // If showTutorial is not defined yet, delay a bit
               setTimeout(() => {
                    if (typeof showTutorial === 'function') showTutorial();
               }, 100);
               }
          }
          });
     </script>
     <script src="scripts/arcade_tutorial.js"></script>

</body>
</html>








